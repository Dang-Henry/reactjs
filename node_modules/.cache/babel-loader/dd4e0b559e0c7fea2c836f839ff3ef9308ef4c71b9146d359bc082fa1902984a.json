{"ast":null,"code":"\"use strict\";\n\nvar __assign = this && this.__assign || function () {\n  __assign = Object.assign || function (t) {\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\n      s = arguments[i];\n      for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n    }\n    return t;\n  };\n  return __assign.apply(this, arguments);\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.createApp = exports.createAppWrapper = exports.createClientApp = exports.getShopOrigin = exports.getUrlParams = exports.WINDOW_UNDEFINED_MESSAGE = void 0;\nvar helper_1 = require(\"../actions/helper\");\nvar Error_1 = require(\"../actions/Error\");\nvar Print_1 = require(\"../actions/Print\");\nvar MessageTransport_1 = require(\"../MessageTransport\");\nvar shared_1 = require(\"../util/shared\");\nvar env_1 = require(\"../util/env\");\nvar print_1 = require(\"./print\");\nvar redirect_1 = require(\"./redirect\");\nvar types_1 = require(\"./types\");\nvar Hooks_1 = __importDefault(require(\"./Hooks\"));\nexports.WINDOW_UNDEFINED_MESSAGE = 'window is not defined. Running an app outside a browser is not supported';\nfunction redirectHandler(hostFrame, config) {\n  var apiKey = config.apiKey,\n    shopOrigin = config.shopOrigin,\n    _a = config.forceRedirect,\n    forceRedirect = _a === void 0 ? !env_1.isDevelopmentClient : _a;\n  var location = redirect_1.getLocation();\n  if (env_1.isFrameless || !location || !apiKey || !shopOrigin || !forceRedirect || !redirect_1.shouldRedirect(hostFrame)) {\n    return;\n  }\n  var url = \"https://\" + shopOrigin + \"/admin/apps/\" + apiKey + location.pathname + (location.search || '');\n  redirect_1.redirect(url);\n}\nfunction appSetUp(app) {\n  app.subscribe(Print_1.ActionType.APP, print_1.handleAppPrint);\n}\n/**\n * Extracts the query parameters from the current URL.\n * @deprecated This function has been deprecated.\n * @public\n */\nfunction getUrlParams() {\n  var params = {};\n  var location = redirect_1.getLocation();\n  if (!location) {\n    return params;\n  }\n  var hashes = location.search.slice(location.search.indexOf('?') + 1).split('&');\n  return hashes.reduce(function (acc, hash) {\n    var _a;\n    var _b = hash.split('='),\n      key = _b[0],\n      val = _b[1];\n    return __assign(__assign({}, acc), (_a = {}, _a[decodeURIComponent(key)] = decodeURIComponent(val), _a));\n  }, params);\n}\nexports.getUrlParams = getUrlParams;\n/**\n * Extracts the `shop` query parameter from the current URL.\n * @deprecated This function has been deprecated, see {@link https://help.shopify.com/api/embedded-apps/shop-origin}\n * @public\n */\nfunction getShopOrigin() {\n  var params = getUrlParams();\n  return params.shop;\n}\nexports.getShopOrigin = getShopOrigin;\n/**\n * @internal\n */\nexports.createClientApp = function (transport, middlewares) {\n  if (middlewares === void 0) {\n    middlewares = [];\n  }\n  var getStateListeners = [];\n  var transportListener = MessageTransport_1.createTransportListener();\n  var handler = function (event) {\n    var message = event.data;\n    var type = message.type,\n      payload = message.payload;\n    switch (type) {\n      case 'getState':\n        var resolvers = getStateListeners.splice(0);\n        resolvers.forEach(function (resolver) {\n          return resolver(payload);\n        });\n        break;\n      case 'dispatch':\n        transportListener.handleMessage(payload);\n        var hasCallback = transportListener.handleActionDispatch(payload);\n        if (hasCallback) {\n          return;\n        }\n        // Throw an error if there are no subscriptions to this error\n        var errorType = helper_1.findMatchInEnum(Error_1.ActionType, payload.type);\n        if (errorType) {\n          Error_1.throwError(errorType, payload);\n        }\n        break;\n      default:\n      // Silently swallow unknown actions\n    }\n  };\n  transport.subscribe(handler);\n  return function (config) {\n    if (!config.shopOrigin) {\n      throw Error_1.fromAction('shopOrigin must be provided', Error_1.AppActionType.INVALID_CONFIG);\n    }\n    var protocol = /^https?:\\/\\//;\n    if (protocol.test(config.shopOrigin)) {\n      var message = \"shopOrigin should not include protocol, please use: \" + config.shopOrigin.replace(protocol, '');\n      throw Error_1.fromAction(message, Error_1.AppActionType.INVALID_CONFIG);\n    }\n    if (!config.apiKey) {\n      throw Error_1.fromAction('apiKey must be provided', Error_1.AppActionType.INVALID_CONFIG);\n    }\n    var dispatcher = createDispatcher(transport, config);\n    var subscribe = transportListener.createSubscribeHandler(dispatcher);\n    // It is possible to initialize an app multiple times\n    // Therefore we need to clear subscriptions to be safe\n    dispatcher(types_1.MessageType.Unsubscribe);\n    function dispatch(action) {\n      dispatcher(types_1.MessageType.Dispatch, action);\n      return action;\n    }\n    redirectHandler(transport.hostFrame, config);\n    var hooks = new Hooks_1.default();\n    var app = {\n      localOrigin: transport.localOrigin,\n      hooks: hooks,\n      dispatch: function (action) {\n        if (!app.hooks) {\n          return dispatch(action);\n        }\n        return app.hooks.run(types_1.LifecycleHook.DispatchAction, dispatch, app, action);\n      },\n      featuresAvailable: function (features) {\n        return app.getState('features').then(function (state) {\n          if (features) {\n            Object.keys(state).forEach(function (feature) {\n              if (!features.includes(feature)) {\n                delete state[feature];\n              }\n            });\n          }\n          return state;\n        });\n      },\n      getState: function (query) {\n        return new Promise(function (resolve) {\n          getStateListeners.push(resolve);\n          dispatcher(types_1.MessageType.GetState);\n        }).then(function (state) {\n          if (query) {\n            return query.split('.').reduce(function (value, key) {\n              if (typeof state !== 'object' || Array.isArray(state)) {\n                return undefined;\n              }\n              value = state[key];\n              state = value;\n              return value;\n            }, undefined);\n          }\n          return state;\n        });\n      },\n      subscribe: subscribe,\n      error: function (listener, id) {\n        var unsubscribeCb = [];\n        helper_1.forEachInEnum(Error_1.ActionType, function (eventNameSpace) {\n          unsubscribeCb.push(subscribe(eventNameSpace, listener, id));\n        });\n        return function () {\n          unsubscribeCb.forEach(function (unsubscribe) {\n            return unsubscribe();\n          });\n        };\n      }\n    };\n    for (var _i = 0, middlewares_1 = middlewares; _i < middlewares_1.length; _i++) {\n      var middleware = middlewares_1[_i];\n      middleware(hooks, app);\n    }\n    appSetUp(app);\n    return app;\n  };\n};\n/**\n * @public\n */\nfunction createAppWrapper(frame, localOrigin, middleware) {\n  if (middleware === void 0) {\n    middleware = [];\n  }\n  if (!frame) {\n    throw Error_1.fromAction(exports.WINDOW_UNDEFINED_MESSAGE, Error_1.AppActionType.WINDOW_UNDEFINED);\n  }\n  var location = redirect_1.getLocation();\n  var origin = localOrigin || location && location.origin;\n  if (!origin) {\n    throw Error_1.fromAction('local origin cannot be blank', Error_1.AppActionType.MISSING_LOCAL_ORIGIN);\n  }\n  var transport = MessageTransport_1.fromWindow(frame, origin);\n  var appCreator = exports.createClientApp(transport, middleware);\n  return appCreator;\n}\nexports.createAppWrapper = createAppWrapper;\n/**\n * Creates your application instance.\n * @param config - Both `apiKey` and `shopOrigin` are required.\n * @remarks\n * You will need to store `shopOrigin` during the authentication process and then retrieve it for the code to work properly. To learn more about this process, see {@link https://help.shopify.com/api/embedded-apps/shop-origin | Getting and storing the shop origin}.\n * @public\n */\nfunction createApp(config) {\n  var currentWindow = redirect_1.getWindow();\n  if (!currentWindow) {\n    return shared_1.serverAppBridge;\n  }\n  return createAppWrapper(currentWindow.top)(config);\n}\nexports.createApp = createApp;\nfunction createDispatcher(transport, config) {\n  return function (type, payload) {\n    transport.dispatch({\n      payload: payload,\n      source: config,\n      type: type\n    });\n  };\n}\n/**\n * {@inheritdocs createApp}\n * @public\n */\nexports.default = createApp;","map":{"version":3,"names":["__assign","Object","assign","t","s","i","n","arguments","length","p","prototype","hasOwnProperty","call","apply","__importDefault","mod","__esModule","defineProperty","exports","value","createApp","createAppWrapper","createClientApp","getShopOrigin","getUrlParams","WINDOW_UNDEFINED_MESSAGE","helper_1","require","Error_1","Print_1","MessageTransport_1","shared_1","env_1","print_1","redirect_1","types_1","Hooks_1","redirectHandler","hostFrame","config","apiKey","shopOrigin","_a","forceRedirect","isDevelopmentClient","location","getLocation","isFrameless","shouldRedirect","url","pathname","search","redirect","appSetUp","app","subscribe","ActionType","APP","handleAppPrint","params","hashes","slice","indexOf","split","reduce","acc","hash","_b","key","val","decodeURIComponent","shop","transport","middlewares","getStateListeners","transportListener","createTransportListener","handler","event","message","data","type","payload","resolvers","splice","forEach","resolver","handleMessage","hasCallback","handleActionDispatch","errorType","findMatchInEnum","throwError","fromAction","AppActionType","INVALID_CONFIG","protocol","test","replace","dispatcher","createDispatcher","createSubscribeHandler","MessageType","Unsubscribe","dispatch","action","Dispatch","hooks","default","localOrigin","run","LifecycleHook","DispatchAction","featuresAvailable","features","getState","then","state","keys","feature","includes","query","Promise","resolve","push","GetState","Array","isArray","undefined","error","listener","id","unsubscribeCb","forEachInEnum","eventNameSpace","unsubscribe","_i","middlewares_1","middleware","frame","WINDOW_UNDEFINED","origin","MISSING_LOCAL_ORIGIN","fromWindow","appCreator","currentWindow","getWindow","serverAppBridge","top","source"],"sources":["/Users/huandang/Documents/1.Develop/1.1.ProjectGithub/reactjs/node_modules/@shopify/app-bridge/client/Client.js"],"sourcesContent":["\"use strict\";\nvar __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.createApp = exports.createAppWrapper = exports.createClientApp = exports.getShopOrigin = exports.getUrlParams = exports.WINDOW_UNDEFINED_MESSAGE = void 0;\nvar helper_1 = require(\"../actions/helper\");\nvar Error_1 = require(\"../actions/Error\");\nvar Print_1 = require(\"../actions/Print\");\nvar MessageTransport_1 = require(\"../MessageTransport\");\nvar shared_1 = require(\"../util/shared\");\nvar env_1 = require(\"../util/env\");\nvar print_1 = require(\"./print\");\nvar redirect_1 = require(\"./redirect\");\nvar types_1 = require(\"./types\");\nvar Hooks_1 = __importDefault(require(\"./Hooks\"));\nexports.WINDOW_UNDEFINED_MESSAGE = 'window is not defined. Running an app outside a browser is not supported';\nfunction redirectHandler(hostFrame, config) {\n    var apiKey = config.apiKey, shopOrigin = config.shopOrigin, _a = config.forceRedirect, forceRedirect = _a === void 0 ? !env_1.isDevelopmentClient : _a;\n    var location = redirect_1.getLocation();\n    if (env_1.isFrameless ||\n        !location ||\n        !apiKey ||\n        !shopOrigin ||\n        !forceRedirect ||\n        !redirect_1.shouldRedirect(hostFrame)) {\n        return;\n    }\n    var url = \"https://\" + shopOrigin + \"/admin/apps/\" + apiKey + location.pathname + (location.search || '');\n    redirect_1.redirect(url);\n}\nfunction appSetUp(app) {\n    app.subscribe(Print_1.ActionType.APP, print_1.handleAppPrint);\n}\n/**\n * Extracts the query parameters from the current URL.\n * @deprecated This function has been deprecated.\n * @public\n */\nfunction getUrlParams() {\n    var params = {};\n    var location = redirect_1.getLocation();\n    if (!location) {\n        return params;\n    }\n    var hashes = location.search.slice(location.search.indexOf('?') + 1).split('&');\n    return hashes.reduce(function (acc, hash) {\n        var _a;\n        var _b = hash.split('='), key = _b[0], val = _b[1];\n        return __assign(__assign({}, acc), (_a = {}, _a[decodeURIComponent(key)] = decodeURIComponent(val), _a));\n    }, params);\n}\nexports.getUrlParams = getUrlParams;\n/**\n * Extracts the `shop` query parameter from the current URL.\n * @deprecated This function has been deprecated, see {@link https://help.shopify.com/api/embedded-apps/shop-origin}\n * @public\n */\nfunction getShopOrigin() {\n    var params = getUrlParams();\n    return params.shop;\n}\nexports.getShopOrigin = getShopOrigin;\n/**\n * @internal\n */\nexports.createClientApp = function (transport, middlewares) {\n    if (middlewares === void 0) { middlewares = []; }\n    var getStateListeners = [];\n    var transportListener = MessageTransport_1.createTransportListener();\n    var handler = function (event) {\n        var message = event.data;\n        var type = message.type, payload = message.payload;\n        switch (type) {\n            case 'getState':\n                var resolvers = getStateListeners.splice(0);\n                resolvers.forEach(function (resolver) { return resolver(payload); });\n                break;\n            case 'dispatch':\n                transportListener.handleMessage(payload);\n                var hasCallback = transportListener.handleActionDispatch(payload);\n                if (hasCallback) {\n                    return;\n                }\n                // Throw an error if there are no subscriptions to this error\n                var errorType = helper_1.findMatchInEnum(Error_1.ActionType, payload.type);\n                if (errorType) {\n                    Error_1.throwError(errorType, payload);\n                }\n                break;\n            default:\n            // Silently swallow unknown actions\n        }\n    };\n    transport.subscribe(handler);\n    return function (config) {\n        if (!config.shopOrigin) {\n            throw Error_1.fromAction('shopOrigin must be provided', Error_1.AppActionType.INVALID_CONFIG);\n        }\n        var protocol = /^https?:\\/\\//;\n        if (protocol.test(config.shopOrigin)) {\n            var message = \"shopOrigin should not include protocol, please use: \" + config.shopOrigin.replace(protocol, '');\n            throw Error_1.fromAction(message, Error_1.AppActionType.INVALID_CONFIG);\n        }\n        if (!config.apiKey) {\n            throw Error_1.fromAction('apiKey must be provided', Error_1.AppActionType.INVALID_CONFIG);\n        }\n        var dispatcher = createDispatcher(transport, config);\n        var subscribe = transportListener.createSubscribeHandler(dispatcher);\n        // It is possible to initialize an app multiple times\n        // Therefore we need to clear subscriptions to be safe\n        dispatcher(types_1.MessageType.Unsubscribe);\n        function dispatch(action) {\n            dispatcher(types_1.MessageType.Dispatch, action);\n            return action;\n        }\n        redirectHandler(transport.hostFrame, config);\n        var hooks = new Hooks_1.default();\n        var app = {\n            localOrigin: transport.localOrigin,\n            hooks: hooks,\n            dispatch: function (action) {\n                if (!app.hooks) {\n                    return dispatch(action);\n                }\n                return app.hooks.run(types_1.LifecycleHook.DispatchAction, dispatch, app, action);\n            },\n            featuresAvailable: function (features) {\n                return app.getState('features').then(function (state) {\n                    if (features) {\n                        Object.keys(state).forEach(function (feature) {\n                            if (!features.includes(feature)) {\n                                delete state[feature];\n                            }\n                        });\n                    }\n                    return state;\n                });\n            },\n            getState: function (query) {\n                return new Promise(function (resolve) {\n                    getStateListeners.push(resolve);\n                    dispatcher(types_1.MessageType.GetState);\n                }).then(function (state) {\n                    if (query) {\n                        return query.split('.').reduce(function (value, key) {\n                            if (typeof state !== 'object' || Array.isArray(state)) {\n                                return undefined;\n                            }\n                            value = state[key];\n                            state = value;\n                            return value;\n                        }, undefined);\n                    }\n                    return state;\n                });\n            },\n            subscribe: subscribe,\n            error: function (listener, id) {\n                var unsubscribeCb = [];\n                helper_1.forEachInEnum(Error_1.ActionType, function (eventNameSpace) {\n                    unsubscribeCb.push(subscribe(eventNameSpace, listener, id));\n                });\n                return function () {\n                    unsubscribeCb.forEach(function (unsubscribe) { return unsubscribe(); });\n                };\n            },\n        };\n        for (var _i = 0, middlewares_1 = middlewares; _i < middlewares_1.length; _i++) {\n            var middleware = middlewares_1[_i];\n            middleware(hooks, app);\n        }\n        appSetUp(app);\n        return app;\n    };\n};\n/**\n * @public\n */\nfunction createAppWrapper(frame, localOrigin, middleware) {\n    if (middleware === void 0) { middleware = []; }\n    if (!frame) {\n        throw Error_1.fromAction(exports.WINDOW_UNDEFINED_MESSAGE, Error_1.AppActionType.WINDOW_UNDEFINED);\n    }\n    var location = redirect_1.getLocation();\n    var origin = localOrigin || (location && location.origin);\n    if (!origin) {\n        throw Error_1.fromAction('local origin cannot be blank', Error_1.AppActionType.MISSING_LOCAL_ORIGIN);\n    }\n    var transport = MessageTransport_1.fromWindow(frame, origin);\n    var appCreator = exports.createClientApp(transport, middleware);\n    return appCreator;\n}\nexports.createAppWrapper = createAppWrapper;\n/**\n * Creates your application instance.\n * @param config - Both `apiKey` and `shopOrigin` are required.\n * @remarks\n * You will need to store `shopOrigin` during the authentication process and then retrieve it for the code to work properly. To learn more about this process, see {@link https://help.shopify.com/api/embedded-apps/shop-origin | Getting and storing the shop origin}.\n * @public\n */\nfunction createApp(config) {\n    var currentWindow = redirect_1.getWindow();\n    if (!currentWindow) {\n        return shared_1.serverAppBridge;\n    }\n    return createAppWrapper(currentWindow.top)(config);\n}\nexports.createApp = createApp;\nfunction createDispatcher(transport, config) {\n    return function (type, payload) {\n        transport.dispatch({\n            payload: payload,\n            source: config,\n            type: type,\n        });\n    };\n}\n/**\n * {@inheritdocs createApp}\n * @public\n */\nexports.default = createApp;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}