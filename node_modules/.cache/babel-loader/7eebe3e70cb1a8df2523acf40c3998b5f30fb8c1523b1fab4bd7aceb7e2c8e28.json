{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.mixedAppClientCheck = exports.relativePathSchema = exports.relativeUrlSchema = exports.isValidRelativePath = exports.actionMessage = exports.createActionValidator = void 0;\nvar type_validate_1 = require(\"./type-validate\");\nfunction createActionValidator(type, payloadSchema, payloadRequired, idRequired) {\n  if (payloadSchema === void 0) {\n    payloadSchema = undefined;\n  }\n  if (payloadRequired === void 0) {\n    payloadRequired = false;\n  }\n  if (idRequired === void 0) {\n    idRequired = false;\n  }\n  var idSchema = type_validate_1.matchesObject({\n    id: idRequired ? type_validate_1.matchesString() : type_validate_1.makeOptional(type_validate_1.matchesString())\n  });\n  var schema = payloadSchema ? type_validate_1.composeSchemas(idSchema, payloadSchema) : idSchema;\n  return type_validate_1.matchesObject({\n    type: type_validate_1.matchesEnum(type, {\n      message: function (_, val) {\n        return \"The action type `\" + val + \"` is invalid or unsupported\";\n      }\n    }),\n    payload: payloadRequired ? schema : type_validate_1.makeOptional(schema)\n  });\n}\nexports.createActionValidator = createActionValidator;\nfunction actionMessage(errors) {\n  return errors.map(function (err) {\n    var path = err.path,\n      error = err.error,\n      message = err.message,\n      value = err.value;\n    var valueStr = typeof value === 'object' ? JSON.stringify(value) : value;\n    return \"`\" + error + \"` thrown for\" + (path ? \" path: \" + path + \" and\" : '') + \" value: `\" + valueStr + \"`\" + (message ? \" with message: \" + message : '');\n  }).join(' | ');\n}\nexports.actionMessage = actionMessage;\nfunction isValidRelativePath(path) {\n  return typeof path === 'string' && (path === '' || path.startsWith('/'));\n}\nexports.isValidRelativePath = isValidRelativePath;\nexports.relativeUrlSchema = type_validate_1.composeSchemas(type_validate_1.matchesString(), function (value) {\n  return isValidRelativePath(value) ? undefined : [{\n    error: 'invalid_relative_path',\n    value: value,\n    message: 'expected string to start with `/`'\n  }];\n});\nexports.relativePathSchema = type_validate_1.matchesObject({\n  path: exports.relativeUrlSchema\n});\nfunction mixedAppClientCheck(window) {\n  window.addEventListener('DOMContentLoaded', function () {\n    if (!window.hasOwnProperty('ShopifyApp')) {\n      return;\n    }\n    console.error(\"%cException Detected \\uD83D\\uDEAB\\n\\n%cAn instance of the EASDK client was detected while initializing Shopify App Bridge. Using Shopify App Bridge and the EASDK simultaneously is not supported.\\n\\nIf you're migrating an existing app that was built with the shopify_app gem, then the EASDK client might have been included in the home page view template. In this case, remove it from your app before initializing Shopify App Bridge again.\", 'font-size: large;', 'font-size: normal;');\n  }, {\n    once: true\n  });\n}\nexports.mixedAppClientCheck = mixedAppClientCheck;","map":{"version":3,"names":["Object","defineProperty","exports","value","mixedAppClientCheck","relativePathSchema","relativeUrlSchema","isValidRelativePath","actionMessage","createActionValidator","type_validate_1","require","type","payloadSchema","payloadRequired","idRequired","undefined","idSchema","matchesObject","id","matchesString","makeOptional","schema","composeSchemas","matchesEnum","message","_","val","payload","errors","map","err","path","error","valueStr","JSON","stringify","join","startsWith","window","addEventListener","hasOwnProperty","console","once"],"sources":["/Users/huandang/Documents/1.Develop/1.1.ProjectGithub/reactjs/node_modules/@shopify/app-bridge/validate/utils.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.mixedAppClientCheck = exports.relativePathSchema = exports.relativeUrlSchema = exports.isValidRelativePath = exports.actionMessage = exports.createActionValidator = void 0;\nvar type_validate_1 = require(\"./type-validate\");\nfunction createActionValidator(type, payloadSchema, payloadRequired, idRequired) {\n    if (payloadSchema === void 0) { payloadSchema = undefined; }\n    if (payloadRequired === void 0) { payloadRequired = false; }\n    if (idRequired === void 0) { idRequired = false; }\n    var idSchema = type_validate_1.matchesObject({\n        id: idRequired ? type_validate_1.matchesString() : type_validate_1.makeOptional(type_validate_1.matchesString()),\n    });\n    var schema = payloadSchema ? type_validate_1.composeSchemas(idSchema, payloadSchema) : idSchema;\n    return type_validate_1.matchesObject({\n        type: type_validate_1.matchesEnum(type, {\n            message: function (_, val) { return \"The action type `\" + val + \"` is invalid or unsupported\"; },\n        }),\n        payload: payloadRequired ? schema : type_validate_1.makeOptional(schema),\n    });\n}\nexports.createActionValidator = createActionValidator;\nfunction actionMessage(errors) {\n    return errors\n        .map(function (err) {\n        var path = err.path, error = err.error, message = err.message, value = err.value;\n        var valueStr = typeof value === 'object' ? JSON.stringify(value) : value;\n        return \"`\" + error + \"` thrown for\" + (path ? \" path: \" + path + \" and\" : '') + \" value: `\" + valueStr + \"`\" + (message ? \" with message: \" + message : '');\n    })\n        .join(' | ');\n}\nexports.actionMessage = actionMessage;\nfunction isValidRelativePath(path) {\n    return typeof path === 'string' && (path === '' || path.startsWith('/'));\n}\nexports.isValidRelativePath = isValidRelativePath;\nexports.relativeUrlSchema = type_validate_1.composeSchemas(type_validate_1.matchesString(), function (value) {\n    return isValidRelativePath(value)\n        ? undefined\n        : [{ error: 'invalid_relative_path', value: value, message: 'expected string to start with `/`' }];\n});\nexports.relativePathSchema = type_validate_1.matchesObject({\n    path: exports.relativeUrlSchema,\n});\nfunction mixedAppClientCheck(window) {\n    window.addEventListener('DOMContentLoaded', function () {\n        if (!window.hasOwnProperty('ShopifyApp')) {\n            return;\n        }\n        console.error(\"%cException Detected \\uD83D\\uDEAB\\n\\n%cAn instance of the EASDK client was detected while initializing Shopify App Bridge. Using Shopify App Bridge and the EASDK simultaneously is not supported.\\n\\nIf you're migrating an existing app that was built with the shopify_app gem, then the EASDK client might have been included in the home page view template. In this case, remove it from your app before initializing Shopify App Bridge again.\", 'font-size: large;', 'font-size: normal;');\n    }, { once: true });\n}\nexports.mixedAppClientCheck = mixedAppClientCheck;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}